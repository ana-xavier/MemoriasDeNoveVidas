[gd_scene load_steps=28 format=3 uid="uid://c56guh7afpq0s"]

[ext_resource type="Script" path="res://levels/scripts/level_manager.gd" id="1_w2xrs"]
[ext_resource type="PackedScene" uid="uid://cgpf1lec1exwb" path="res://environment/terrain/scenes/level_1/terrain.tscn" id="2_6gfvi"]
[ext_resource type="PackedScene" uid="uid://bigu2os3aq8k1" path="res://action_scripts/scenes/script_trigger.tscn" id="3_rdviq"]
[ext_resource type="Script" path="res://action_scripts/scripts/initial_cat_thoughts.gd" id="4_g1dvf"]
[ext_resource type="PackedScene" uid="uid://dmrgh0autf267" path="res://interaction/interaction_press/objects/note/note.tscn" id="5_lqppg"]
[ext_resource type="PackedScene" uid="uid://bgljvnge160or" path="res://characters/scenes/main_character.tscn" id="6_ykb5m"]
[ext_resource type="PackedScene" uid="uid://cr8x3nvrj27ky" path="res://characters/scenes/cat_follow_character.tscn" id="7_x75k7"]
[ext_resource type="Script" path="res://resources/classes/objects/dialog/dialog_box.gd" id="8_c0qsk"]
[ext_resource type="Script" path="res://resources/classes/objects/dialog/dialog.gd" id="9_b0ikv"]
[ext_resource type="Texture2D" uid="uid://b2lxmvlcgu7vm" path="res://characters/assets/cat/calico_0.png" id="10_c1exf"]
[ext_resource type="PackedScene" uid="uid://rggrvhlodlv7" path="res://environment/terrain/scenes/level_1/objects_terrain.tscn" id="11_xvphd"]
[ext_resource type="PackedScene" uid="uid://dxagbjrrw7m88" path="res://transition/scenes/door.tscn" id="12_8j076"]
[ext_resource type="Script" path="res://gui/canvas_layer.gd" id="13_7s0i4"]
[ext_resource type="Texture2D" uid="uid://cabnn175nnut8" path="res://gui/icons/book.png" id="14_0324t"]
[ext_resource type="Texture2D" uid="uid://dof5vqg1x6m5i" path="res://gui/icons/book_hover.png" id="15_f68bs"]
[ext_resource type="Texture2D" uid="uid://dlhrcw2eqt5ni" path="res://gui/icons/tab_button.png" id="16_lmjym"]
[ext_resource type="PackedScene" uid="uid://b3rjyjxfyd2bv" path="res://interaction/popup/note/note_popup.tscn" id="17_hh260"]
[ext_resource type="PackedScene" uid="uid://lou1cctl4ij" path="res://gui/notification/scenes/notification_box.tscn" id="18_ysfml"]
[ext_resource type="PackedScene" uid="uid://n7p07evg8r3o" path="res://gui/container/content_container.tscn" id="19_1gyf1"]
[ext_resource type="PackedScene" uid="uid://d2m6dxtevb3up" path="res://gui/inventory/scenes/inventory.tscn" id="20_escal"]
[ext_resource type="PackedScene" uid="uid://cpjsffmqikpi2" path="res://gui/container/wait_feedback_container.tscn" id="21_7mvod"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_52hif"]

[sub_resource type="Resource" id="Resource_x040f"]
script = ExtResource("8_c0qsk")
character_type = 1
lines = Array[String](["M-meow! "])

[sub_resource type="Resource" id="Resource_w0kx7"]
script = ExtResource("9_b0ikv")
id = "idle"
has_prerequisite = false
prerequisite_quest_id = ""
release_a_quest = false
quest_id = ""
dialog = Array[ExtResource("8_c0qsk")]([SubResource("Resource_x040f")])

[sub_resource type="Resource" id="Resource_874pn"]
script = ExtResource("8_c0qsk")
character_type = 1
lines = Array[String](["Di√°logo 1"])

[sub_resource type="Resource" id="Resource_rmjpq"]
script = ExtResource("9_b0ikv")
id = "jujubinha_greetings"
has_prerequisite = true
prerequisite_quest_id = "srpotatoe_item_quest"
release_a_quest = true
quest_id = "jujubinha_location_1_quest"
dialog = Array[ExtResource("8_c0qsk")]([SubResource("Resource_874pn")])

[sub_resource type="RectangleShape2D" id="RectangleShape2D_du7o2"]
size = Vector2(46, 12)

[node name="House" type="Node2D"]
script = ExtResource("1_w2xrs")
level_id = "house"
display_level_name = "Casa de Misty"

[node name="Terrain" parent="." instance=ExtResource("2_6gfvi")]
layer_0/tile_data = PackedInt32Array(-393222, 589825, 0, -327686, 589825, 1, -262150, 589825, 2, -196614, 589825, 3, -131078, 589825, 4, -65542, 589825, 5, -6, 589825, 6, 65530, 589825, 6, 131066, 589825, 6, 196602, 65540, 4, 262138, 65540, 5, -458757, 589825, 0, -393221, 589825, 1, -327685, 655361, 2, -262149, 720897, 4, -196613, 131076, 4, -131077, 589825, 6, -65541, 655361, 6, -5, 655361, 6, 65531, 655361, 6, 131067, 655361, 6, 196603, 720897, 6, 262139, 720897, 6, 327675, 589825, 6, 393211, 196612, 4, -524292, 589825, 0, -458756, 589825, 1, -393220, 720897, 2, -327684, 720897, 2, -262148, 655361, 4, -196612, 131076, 4, -131076, 131076, 4, -65540, 131076, 4, -4, 655361, 6, 65532, 655361, 6, 131068, 720897, 6, 196604, 720897, 6, 262140, 655361, 6, 327676, 655361, 6, 393212, 196612, 4, -524291, 720897, 0, -458755, 720897, 1, -393219, 655361, 3, -327683, 655361, 4, -262147, 589825, 5, -196611, 196612, 4, -131075, 196612, 4, -65539, 196612, 4, -3, 131076, 4, 65533, 131076, 4, 131069, 655361, 6, 196605, 655361, 6, 262141, 655361, 6, 327677, 720897, 6, 393213, 720897, 7, -524290, 655361, 0, -458754, 655361, 1, -393218, 655361, 3, -327682, 655361, 4, -262146, 655361, 5, -196610, 720897, 6, -131074, 720897, 6, -65538, 720897, 6, -2, 196612, 4, 65534, 196612, 4, 131070, 655361, 6, 196606, 720897, 6, 262142, 655361, 6, 327678, 720897, 6, 393214, 720897, 7, -524289, 655361, 0, -458753, 655361, 1, -393217, 720897, 3, -327681, 720897, 4, -262145, 720897, 5, -196609, 655361, 6, -131073, 196612, 4, -65537, 655361, 6, -1, 196612, 4, 65535, 131076, 4, 131071, 720897, 6, 196607, 720897, 6, 262143, 720897, 6, 327679, 655361, 6, 393215, 655361, 6, 458751, 589825, 7, -589824, 655361, 0, -524288, 655361, 1, -458752, 720897, 3, -393216, 720897, 4, -327680, 720897, 5, -262144, 720897, 6, -196608, 196612, 4, -131072, 720897, 6, -65536, 196612, 4, 0, 196612, 4, 65536, 720897, 6, 131072, 655361, 6, 196608, 655361, 6, 262144, 720897, 6, 327680, 655361, 6, 393216, 720897, 6, -589823, 655361, 0, -524287, 655361, 1, -458751, 720897, 3, -393215, 720897, 4, -327679, 655361, 5, -262143, 720897, 6, -196607, 196612, 4, -131071, 655361, 6, -65535, 720897, 6, 1, 655361, 6, 65537, 720897, 6, 131073, 720897, 6, 196609, 720897, 6, 262145, 720897, 6, 327681, 720897, 6, 393217, 786433, 7, -589822, 655361, 0, -524286, 655361, 1, -458750, 720897, 3, -393214, 720897, 4, -327678, 655361, 5, -262142, 655361, 6, -196606, 655361, 6, -131070, 720897, 6, -65534, 655361, 6, 2, 655361, 6, 65538, 655361, 6, 131074, 655361, 6, 196610, 720897, 6, 262146, 655361, 6, 327682, 196612, 4, -589821, 655361, 0, -524285, 655361, 1, -458749, 720897, 3, -393213, 720897, 4, -327677, 786433, 5, -262141, 655361, 6, -196605, 655361, 6, -131069, 655361, 6, -65533, 655361, 6, 3, 196612, 4, 65539, 196612, 4, 131075, 196612, 4, 196611, 655361, 6, 262147, 655361, 6, 327683, 720897, 7, -524284, 786433, 1, -458748, 720897, 2, -393212, 720897, 3, -327676, 720897, 4, -262140, 196612, 3, -196604, 655361, 6, -131068, 720897, 6, -65532, 196612, 4, 4, 196612, 4, 65540, 655361, 6, 131076, 196612, 4, 196612, 655361, 6, 262148, 720897, 6, 327684, 720897, 7, -458747, 786433, 1, -393211, 720897, 2, -327675, 720897, 4, -262139, 262148, 3, -196603, 786433, 6, -131067, 720897, 6, -65531, 655361, 6, 5, 196612, 4, 65541, 196612, 4, 131077, 196612, 4, 196613, 655361, 6, -589820, 786433, 0, -524283, 786433, 0, 262149, 786433, 6, 327685, 786433, 7, -458746, 786433, 0, -393210, 786433, 1, -327674, 786433, 2, -262138, 786433, 3, -196602, 786433, 4, -131066, 786433, 5, -65530, 786433, 6, 6, 786433, 6, 65542, 786433, 6, 131078, 786433, 6, 196614, 786433, 7, -393209, 1114113, 1, -327673, 1114113, 1, -262137, 1114113, 1, -196601, 1114113, 1, -131065, 1114113, 1, -65529, 1114113, 1, 7, 1114113, 1, 65543, 1114113, 1, 131079, 1114113, 1, 196615, 1114113, 1, 262150, 1048577, 8, 327686, 1114113, 1, 393221, 1048577, 8, 393220, 1048577, 8, 393219, 1048577, 8, 393218, 1048577, 8, 458753, 1048577, 8, 524287, 1048577, 8, 458750, 1, 1, 458749, 1048577, 8, 458748, 1048577, 8, 458747, 1048577, 8, 393222, 1114113, 8, 262151, 1114113, 8, -458745, 1114113, 0, -524282, 1114113, 0, -589819, 1114113, 0, -524293, 1, 0, -458758, 1, 0, -393223, 1, 0, 458746, 1, 8, 327673, 1, 8, 327674, 1, 1, 393210, 1, 1, 458752, 1, 1610612742)
layer_1/tile_data = PackedInt32Array(262150, 1114113, 1, -458746, 1114113, 2, -524283, 1114113, 2, -458757, 1, 1, -393222, 1, 1, -327687, 1, 1, -262151, 1, 1, -196615, 1, 1, -131079, 1, 1, -65543, 1, 1, -7, 1, 1, 65529, 1, 1, 131065, 1, 1, 196601, 1, 1, 262137, 1, 1, 327674, 65537, 8, 393210, 1, 1, 458750, 65537, 8, 393218, 1114113, 2, 458754, 1114113, 8, 524286, 1, 8)

[node name="ActionScripts" type="Node2D" parent="."]

[node name="CatThoughts" parent="ActionScripts" instance=ExtResource("3_rdviq")]
action_script = ExtResource("4_g1dvf")

[node name="CollisionShape2D" type="CollisionShape2D" parent="ActionScripts/CatThoughts"]
position = Vector2(-23, -78)
shape = SubResource("RectangleShape2D_52hif")
debug_color = Color(1, 0, 0, 0.419608)

[node name="InteractableObjects" type="Node2D" parent="."]

[node name="Note" parent="InteractableObjects" instance=ExtResource("5_lqppg")]
position = Vector2(54, -59)
id = "note_1"
quest_id = "level1_notes"

[node name="YSort" type="Node2D" parent="."]
y_sort_enabled = true

[node name="MainCharacter" parent="YSort" instance=ExtResource("6_ykb5m")]
position = Vector2(-23, -72)

[node name="Camera2D" type="Camera2D" parent="YSort/MainCharacter"]
zoom = Vector2(1.3, 1.3)
position_smoothing_enabled = true
editor_draw_limits = true

[node name="Jujubinha" parent="YSort" instance=ExtResource("7_x75k7")]
visible = false
position = Vector2(-51, -148)
character_idle_dialog = SubResource("Resource_w0kx7")
character_dialogs = Array[ExtResource("9_b0ikv")]([SubResource("Resource_rmjpq")])
character_color_name = "[color=#87CEEB]"
char_interact_quest_id = "searching_for_answers"
character_id = "jujubinha"
character_name = "Jujubinha"
texture = ExtResource("10_c1exf")

[node name="ObjectsTerrain" parent="YSort" instance=ExtResource("11_xvphd")]
position = Vector2(0, -4)
scale = Vector2(0.968, 1)
layer_0/tile_data = PackedInt32Array(-131075, 14, 12, -1, 65550, 10, 65539, 589838, 0, -131078, 15, 10, 196602, 589838, 4, -196613, 15, 0, 393211, 262160, 2, 393212, 327696, 2, -65539, 393230, 7, -393218, 16, 1, -262146, 393230, 15, -393216, 589839, 7, -262144, 327695, 2, -196608, 655374, 2, 393216, 524302, 2, -393213, 14, 10, 3, 589838, 0, -65532, 524302, 0, 4, 458768, 1, 65540, 15, 4, -327675, 262158, 7, 262146, 196623, 7)

[node name="Doors" type="Node" parent="YSort"]

[node name="Door_INSIDE" parent="YSort/Doors" instance=ExtResource("12_8j076")]
position = Vector2(9, 111)
destination_level_tag = "level_1"
destination_door_tag = "MAIN_HOUSE_OUT"
spawn_direction = "down"

[node name="CollisionShape2D" type="CollisionShape2D" parent="YSort/Doors/Door_INSIDE"]
position = Vector2(-1, 8)
shape = SubResource("RectangleShape2D_du7o2")

[node name="Spawn" type="Marker2D" parent="YSort/Doors/Door_INSIDE"]
position = Vector2(-1, -10)

[node name="CanvasLayer" type="CanvasLayer" parent="."]
process_mode = 3
script = ExtResource("13_7s0i4")

[node name="InventoryButton" type="Control" parent="CanvasLayer"]
layout_mode = 3
anchors_preset = 0
offset_top = 140.0
offset_right = 40.0
offset_bottom = 180.0

[node name="TextureButton" type="TextureButton" parent="CanvasLayer/InventoryButton"]
layout_mode = 0
offset_left = 7.0
offset_top = 6.0
offset_right = 28.0
offset_bottom = 28.0
texture_normal = ExtResource("14_0324t")
texture_hover = ExtResource("15_f68bs")
stretch_mode = 5

[node name="TextureRect" type="TextureRect" parent="CanvasLayer/InventoryButton"]
layout_mode = 0
offset_left = 11.0
offset_top = 25.0
offset_right = 25.0
offset_bottom = 32.0
texture = ExtResource("16_lmjym")
expand_mode = 1
stretch_mode = 5

[node name="NotePopup" parent="CanvasLayer" groups=["NotePopup"] instance=ExtResource("17_hh260")]
process_mode = 3
visible = false

[node name="NotificationBox" parent="CanvasLayer" instance=ExtResource("18_ysfml")]
visible = false

[node name="ContentContainer" parent="CanvasLayer" instance=ExtResource("19_1gyf1")]
visible = false

[node name="Inventory" parent="CanvasLayer" instance=ExtResource("20_escal")]
visible = false

[node name="WaitFeedbackContainer" parent="CanvasLayer" instance=ExtResource("21_7mvod")]
visible = false

[connection signal="pressed" from="CanvasLayer/InventoryButton/TextureButton" to="CanvasLayer" method="_on_inventory_button_pressed"]
[connection signal="closed_note" from="CanvasLayer/NotePopup" to="." method="_on_note_manager_closed_note"]
[connection signal="opened_note" from="CanvasLayer/NotePopup" to="." method="_on_note_manager_opened_note"]

[editable path="YSort/Doors/Door_INSIDE"]
